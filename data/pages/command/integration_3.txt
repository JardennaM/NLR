url: https://docs.drone.io/




Drone Documentation





































Version 1.0.0


Language EN




Are you Looking for the v0.8.0 documentation? Please Click here
Are you upgrading to 1.0.0 from 0.8.x? Please Read this Guide


Installation Guide




GitHub




Single Machine




Multi-Machine




Kubernetes






GitLab




Single Machine




Multi-Machine






Gitea




Single Machine




Multi-Machine




Kubernetes






Gogs




Single Machine




Multi-Machine




Kubernetes






Bitbucket Cloud




Single Machine




Multi-Machine






Bitbucket Server




Single Machine




Multi-Machine




Kubernetes







Administration Guide
If you are installing Drone we recommend starting with a
basic installation. Once you are familiar with Drone, this
section will help you setup a distributed, secure, production-ready instance.



Server




SSL




SSL with Lets Encrypt




Database




Logging




Metrics






Agents




Linux amd64




Linux arm




Linux arm64




Windows 1803




Windows 1809






Users




User Admins




User Management




User Registration




Machine Users







User Guide
Drone looks for a special .drone.yml file in the root of your repository for the pipeline definition. If you are trying to configure a continuous delivery pipeline for your repository, this is the place to start.



Pipeline




Steps




Services




Cloning




Secrets




Volumes




Conditions




Triggers




Nodes




Multi-Machine




Multi-Platform




Promotions




Migrating from 0.8






Secrets




Repository Secrets




Encrypted Secrets




External Secrets






Signature







Examples
This section provides dozens of example configurations for
popular langauges, databases, plugins and more.



Languages




C




C++




Clojure




Crystal




D




Dart




Elixir




Erlang




Go (with Gopath)




Go (with Modules)




Gradle




Groovy




Haskell




Haxe




Java




Maven




Node




PHP




Perl




Python




R




Ruby




Rust




Swift






Services




CouchDB




Docker




Docker (dind)




Elasticsearch




MariaDB




Memcached




MongoDB




MySQL




Nats




Postgres




Redis




RethinkDB




Vault







Plugins
Plugins are Docker containers that perform pre-defined tasks and are configured as steps in your pipeline. Plugins can be used to deploy code, publish artifacts, send notifications, and more.



                Plugin Overview
                



                Creating a Plugin in Bash
                



                Creating a Plugin in Go
                




Extensions
If Drone does almost everything you need but is missing
a really important feature, donâ€™t give up just yet. Drone
has a flexible plugin system and can be extended to meet
the unique needs of your organization.



Configuration




Jsonnet Extension






Secrets




Kubernetes Secrets




Plugin Installation




Configuration in Kubernetes




Configuration in Drone






AWS Secrets Manager




Plugin Installation




Configuration in AWS




Configuration in Drone






Vault Secrets




Plugin Installation




Configuration in Vault




Configuration in Drone









CLI Reference




                CLI Installation
                



                CLI Configuration
                



                drone exec
                



                drone fmt
                



                drone jsonnet
                



                drone repo add
                



                drone repo chown
                



                drone repo info
                



                drone repo ls
                



                drone repo repair
                



                drone repo rm
                



                drone repo update
                



                drone user add
                



                drone user info
                



                drone user ls
                



                drone user rm
                




Reference




Server Reference




DRONE_BITBUCKET_CLIENT_ID




DRONE_BITBUCKET_CLIENT_SECRET




DRONE_COOKIE_SECRET




DRONE_COOKIE_TIMEOUT




DRONE_CRON_DISABLED




DRONE_CRON_INTERVAL




DRONE_DATABASE_DATASOURCE




DRONE_DATABASE_DRIVER




DRONE_GITEA_SERVER




DRONE_GITEA_SKIP_VERIFY




DRONE_GITHUB_CLIENT_ID




DRONE_GITHUB_CLIENT_SECRET




DRONE_GITHUB_SCOPE




DRONE_GITHUB_SERVER




DRONE_GITHUB_SKIP_VERIFY




DRONE_GITLAB_CLIENT_ID




DRONE_GITLAB_CLIENT_SECRET




DRONE_GITLAB_SERVER




DRONE_GITLAB_SKIP_VERIFY




DRONE_GIT_ALWAYS_AUTH




DRONE_GIT_PASSWORD




DRONE_GIT_USERNAME




DRONE_GOGS_SERVER




DRONE_GOGS_SKIP_VERIFY




DRONE_LICENSE




DRONE_LOGS_COLOR




DRONE_LOGS_DEBUG




DRONE_LOGS_PRETTY




DRONE_REPOSITORY_FILTER




DRONE_RPC_SECRET




DRONE_RPC_SERVER




DRONE_SERVER_HOST




DRONE_SERVER_PORT




DRONE_SERVER_PROTO




DRONE_STASH_SERVER




DRONE_STASH_SKIP_VERIFY




DRONE_TLS_AUTOCERT




DRONE_TLS_CERT




DRONE_TLS_KEY




DRONE_USER_CREATE




DRONE_USER_FILTER




DRONE_WEBHOOK




DRONE_WEBHOOK_SECRET




DRONE_WEBHOOK_SKIP_VERIFY






Agent Reference




DOCKER_API_VERSION




DOCKER_CERT_PATH




DOCKER_HOST




DOCKER_TLS_VERIFY




DRONE_LOGS_DEBUG




DRONE_LOGS_NOCOLOR




DRONE_LOGS_PRETTY




DRONE_RPC_SECRET




DRONE_RPC_SERVER




DRONE_RUNNER_ARCH




DRONE_RUNNER_CAPACITY




DRONE_RUNNER_DEVICES




DRONE_RUNNER_ENVIRON




DRONE_RUNNER_LABELS




DRONE_RUNNER_NAME




DRONE_RUNNER_OS




DRONE_RUNNER_PRIVILEGED_IMAGES




DRONE_RUNNER_VOLUMES






Environment Reference




DRONE




DRONE_BRANCH




DRONE_BUILD_CREATED




DRONE_BUILD_EVENT




DRONE_BUILD_NUMBER




DRONE_BUILD_STARTED




DRONE_COMMIT_AFTER




DRONE_COMMIT_AUTHOR




DRONE_COMMIT_AUTHOR_AVATAR




DRONE_COMMIT_AUTHOR_EMAIL




DRONE_COMMIT_AUTHOR_NAME




DRONE_COMMIT_BEFORE




DRONE_COMMIT_BRANCH




DRONE_COMMIT_LINK




DRONE_COMMIT




DRONE_COMMIT_MESSAGE




DRONE_COMMIT_REF




DRONE_COMMIT_SHA




DRONE_GIT_HTTP_URL




DRONE_GIT_SSH_URL




DRONE_MACHINE




DRONE_PULL_REQUEST




DRONE_REPO




DRONE_REPO_BRANCH




DRONE_REMOTE_URL




DRONE_REPO_LINK




DRONE_REPO_NAME




DRONE_REPO_NAMESPACE




DRONE_REPO_PRIVATE




DRONE_REPO_SCM




DRONE_REPO_VISIBILITY




DRONE_RUNNER_HOST




DRONE_RUNNER_HOSTNAME




DRONE_RUNNER_PLATFORM




DRONE_SOURCE_BRANCH




DRONE_SYSTEM_HOST




DRONE_SYSTEM_HOSTNAME




DRONE_RUNNER_LABEL




DRONE_SYSTEM_VERSION




DRONE_TAG




DRONE_TARGET_BRANCH











Getting Help


Mailing List

Search for information in the mailing list archives, or post a question.

Chat Support

Real-time chat support from maintainers and community members.